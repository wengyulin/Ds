(function(n){function p(a){this.callback=a}function d(){}var l={}.toString,m=n.navigator.userAgent.toLowerCase();Array.prototype.forEach||(Array.prototype.forEach=function(a,b){var c,e;if(null==this)throw new TypeError(" this is null or not defined");var f=Object(this),g=f.length>>>0;if(!d.isFunction(a))throw new TypeError(a+" is not a function");b&&(c=b);for(e=0;e<g;){var h;e in f&&(h=f[e],a.call(c,h,e,f));e++}},Array.prototype.map=function(a,b){var c=this.length;if(!d.isFunction(a))throw new TypeError;
for(var e=Array(c),f=0;f<c;f++)f in this&&(e[f]=a.call(b,this[f],f,this));return e},Array.prototype.filter=function(a,b){var c=this.length;if(!d.isFunction(a))throw new TypeError;for(var e=[],f=0;f<c;f++)a.call(b,this[f])&&e.push(this[f]);return e});p.prototype={then:function(a,b){this.s=a;this.f=b;d.isFunction(this.callback)&&this.callback.call(this,this.resolve,this.reject)},resolve:function(a){d.isFunction(this.s)&&this.s.call(this,a)},reject:function(a){d.isFunction(this.f)&&this.f.call(this,
a)}};d.extend=function(a,b){var c=typeof b;"object"===typeof a||$.isFunction(a)||(a={});if("undefined"===c||"boolean"===c)b=a,a=this;for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);return a};d.extend({VERSION:"2.0.0",CONFIG:{isDebug:!1,rootUrl:"/",dcomRootUrl:"static/dcom/"},guid:0,Cache:{},Promise:n.Promise||p,getBrowerV:function(){if(!d.isEmpty(d._browerVersion))return d._browerVersion;var a=d._browerVersion={},b;(b=m.match(/msie ([\d.]+)/))?a.ie=b[1]:(b=m.match(/firefox\/([\d.]+)/))?a.firefox=
b[1]:(b=m.match(/chrome\/([\d.]+)/))?a.chrome=b[1]:(b=m.match(/opera.([\d.]+)/))?a.opera=b[1]:(b=m.match(/version\/([\d.]+).*safari/))?a.safari=b[1]:0;return a},isIE8:function(){var a=d.getBrowerV();return a.ie?9>parseInt(a.ie)?!0:!1:!1},isIE7:function(){var a=d.getBrowerV();return a.ie?8>parseInt(a.ie)?!0:!1:!1},getGuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"==a?b:b&3|8).toString()}).toUpperCase()},setG:function(a,b){function c(a,
b,c){b=b.split(">");var e=b.length;1==e?a[b[0]]=c:2==e&&(a[b[0]]?"":a[b[0]]={},a[b[0]][b[1]]=c)}if("string"==typeof a){var e=a.split("/");switch(e.length){case 1:c(d.Cache,e[0],b);break;case 2:d.Cache[e[0]]?"":d.Cache[e[0]]={};c(d.Cache[e[0]],e[1],b);break;case 3:d.Cache[e[0]]?"":d.Cache[e[0]]={},d.Cache[e[0]][e[1]]?"":d.Cache[e[0]][e[1]]={},c(d.Cache[e[0]][e[1]],e[2],b)}}},getG:function(a){if("string"==typeof a){a=a.split("/");var b=a.length;try{switch(b){case 1:return d.Cache[a[0]];case 2:return d.Cache[a[0]][a[1]];
case 3:return d.Cache[a[0]][a[1]][a[2]]}}catch(c){return"undefined"}}},_getGArr:function(a){a=d.getG(a);if(d.isEmpty(a)||!d.isArray(a))a=[];return a},pushG:function(a,b){var c=d._getGArr(a);c.push(b);d.setG(a,c);return c},popG:function(a){var b=d._getGArr(a);b.pop();d.setG(a,b);return b},shiftG:function(a){var b=d._getGArr(a);b.shift();d.setG(a,b);return b},unshiftG:function(a,b){var c=d._getGArr(a);c.unshift(b);d.setG(a,c);return c},isUndefined:function(a){return"[object Undefined]"==l.call(a)},
isBoolean:function(a){return"[object Boolean]"==l.call(a)},isNumber:function(a){return"[object Number]"==l.call(a)},isString:function(a){return"[object String]"==l.call(a)},isArray:function(a){return"[object Array]"==l.call(a)},isFunction:function(a){return"[object Function]"==l.call(a)},isObject:function(a){return"[object Object]"==l.call(a)},isEmpty:function(a){"undefined"==typeof a&&!0;if(null==a||"string"==typeof a&&/^\s*$/g.test(a)||d.isArray(a)&&0==a.length)return!0;if($.isPlainObject(a)){for(var b in a)return!1;
return!0}},removeFrom:function(a,b){d.isArray(a)&&(a=a.filter(function(a){return a!=b}));return a},include:function(a,b,c){c=c||d;a=d.isArray(a)?a:a.split(",");var e=[];a.forEach(function(a){var b=[],b=-1!=a.indexOf(",")?a.split(","):[a];e=e.concat(b)});e=e.map(function(a){return-1!=a.indexOf(".js")?{file:a,type:"js"}:-1!=a.indexOf(".css")?{file:a,type:"css"}:{file:a+".js",type:"js"}});if(d.isFunction(b)){var f=[],g=function(a){var e=a.shift();d.isEmpty(e)?b.call(c,f):d["css"==e.type?"_loadCssFile":
"_loadJsFile"](e.file,b).then(function(b){d.isUndefined(b)||f.push(b);g(a)})};g(e)}else for(var h in e)a=e[h],"css"==a.type?d.addCssToHead(a.file,b,c,h):d.addJsToBodyLast(a.file,b,c,h)},debug:function(a){var b=d.E("g_debug");b||(b=d.addDivToBody("g_debug"),b.style.display="none");d.isEmpty(a)&&(a=null);null===a?$(b).empty():$(b).append(a.toString())},addDivToBody:function(a,b){b=b||"div";var c=document.getElementsByTagName("BODY").item(0),e=document.createElement(b);e.setAttribute("id",a);e.guid=
d.guid++;c.appendChild(e);return e},_putLoadFileToCache:function(a){var b=d._getGArr("includeFileCache/list"),c=[],e=!1;d.isEmpty(b)?c.push(a):(b.map(function(b){return b.file==a.file?(e=!0,a):b}),c=b,e||c.push(a));d.setG("includeFileCache/list",c)},_inLoadedFileQuque:function(a){var b=!1;d._getGArr("includeFileCache/list").forEach(function(c){c.file==a&&(b=!0)});return b},_removeLoadFileFromCache:function(a){var b=[];d._getGArr("includeFileCache/list").forEach(function(a){a.file!=fn.file&&b.push(a)});
d.setG("includeFileCache/list",b)},_setLoadFileStatus:function(a,b){var c={file:a,isload:b},e=d._getGArr("includeFileCache/list"),e=e.map(function(a){a.file==c.file&&(a.isload=b);return a});d.setG("includeFileCache/list",e)},_getLoadFileStatus:function(a){var b=0;d._getGArr("includeFileCache/list").forEach(function(c){c.file!=a&&(b=c.isload||0)});return b},_loadCssFile:function(a,b){return d._dyLoadFile(a,b,"css")},_loadJsFile:function(a,b){return d._dyLoadFile(a,b,"js")},_dyLoadFile:function(a,b,
c){var e=null;return e=new d.Promise(function(f,g){if(d._inLoadedFileQuque(a))var h=null,l=d.getTime(),q=window.setTimeout(h=function(){1==d._getLoadFileStatus(a)?(f.call(e),window.clearTimeout(q)):1E3<d.getTime()-l?window.clearTimeout(q):window.setTimeout(h,10)},0);else{d._putLoadFileToCache({file:a,isload:0});if("css"==c){var m=document.getElementsByTagName("HEAD").item(0),k=document.createElement("link");k.type="text/css";k.href=a;k.rel="stylesheet"}else m=document.getElementsByTagName("BODY").item(0),
k=document.createElement("script"),k.type="text/javascript",k.src=a;m.appendChild(k);k.guid=d.getGuid();d.isFunction(b)&&(d.isIE8()?k.onreadystatechange=function(){if("loaded"==k.readyState||"complete"==k.readyState)f.call(e,k),d._setLoadFileStatus(a,1)}:k.onload=function(){f.call(e,k);d._setLoadFileStatus(a,1)})}})},addCssToHead:function(a,b,c,e){d._loadCssFile(a,b).then(function(a){b.call(c,a,e)})},addJsToBodyLast:function(a,b,c,e){d._loadJsFile(a,b).then(function(a){b.call(c,a,e)})},fetchObjByKeys:function(a,
b){d.isString(a)&&(a=a.split(","));var c={};if(d.isArray(a))for(var e in a)b.hasOwnProperty&&b.hasOwnProperty(a[e]),c[a[e]]=b[a[e]];return c},getViewSize:function(a){a="undefined"==typeof a?document.documentElement:"string"==typeof a?document.getElementById(a):a;var b,c;a==document.documentElement&&(b=b?b:document.body.scrollTop,c=c?c:document.body.scrollLeft);var e=window.screen;d.fetchObjByKeys("clientWidth,clientHeight,offsetWidth,offsetHeight",a);a.screen=e;a.scrollTop=b;a.scrollLeft=c;return a},
registGlobalEvent:function(){function a(a){return function(c){var e=d.getG("Event/"+a);if(!$.isEmpty(e))for(var f in e)$.isFunction(e[f])&&e[f].call(this,c)}}d._isregistglobalevent||(d._isregistglobalevent=!0,$(window).bind("scroll",a("scrollFunc")).bind("resize",a("resizeFunc")),$(window).unload(a("rootUnloadFunc")),$(document).bind("click",a("rootclickFunc")),$(document).bind("mousedown",a("rootmousedownFunc")),$(document).bind("mouseup",a("rootmouseupFunc")),$(document).bind("keyup",a("rootkeyupFunc")),
$(document).bind("downup",a("rootkeydownFunc")))},E:function(a){return"string"==typeof a?document.getElementById(a):"object"==typeof a?a:null},Ajax:function(a,b,c,e,d,g,h,l){try{$.ajax({url:a,data:b,dataType:c,type:e,success:d,async:g,beforeSend:h,complete:l})}catch(m){}},centerWindow:function(a,b,c){var e=d.getViewSize();c=(e.clientHeight-c)/2;c=e.scrollTop+(0>c?0:c);b=Math.abs((e.clientWidth-b)/2);a.style.left=b+"px";a.style.top=c+"px"},yzAvail:function(a,b,c,e){var f=1;"string"==typeof c?(c=c.split("-"),
f=parseInt(c[0]),c=parseInt(c[1])):c=c||100;var g=$(a).val();if($.isEmpty(g)||g==e)return d.alert(b+"\u4e0d\u80fd\u4e3a\u7a7a","error"),$(a).focus(),!1;if(/\<|\'/g.test(g))return d.alert(b+"\u4e0d\u80fd\u8f93\u5165\u975e\u6cd5\u5b57\u7b26","error"),$(a).focus(),!1;a=g.length;if(a<f)d.alert(b+"\u4e0d\u80fd\u4f4e\u4e8e"+f+"\u4e2a\u5b57","error");else return a>c?(d.alert(b+"\u4e0d\u80fd\u8d85\u8fc7"+c+"\u4e2a\u5b57","error"),!1):!0},addHidenField:function(a,b,c,e){e?$(a).append('<textarea style="display:none;" name="'+
b+'" >'+c+"</textarea>"):$(a).append('<input name="'+b+'" value="'+c+'" type="hidden" />')},strToTime:function(a){if(0===a)return 0;if(a){var b=a.split("-");a=0==b[1].substr(0,1)?parseInt(b[1].substr(1,1))-1:parseInt(b[1])-1;var c=new Date(b[0],a,b[2])}else c=new Date,b=c.getFullYear(),a=c.getMonth(),c=c.getDate(),c=new Date(b,a,c);return c.getTime()},getDJSformat:function(a){a=/^\d+$/g.test(a)?1E3*a:d.strToTime(a);var b=(new Date).getTime();if(b>a)return"\u5df2\u8fc7\u671f";var c=(a-b)/1E3;a=Math.floor(c/
86400);if(3650<a)return"\u4e0d\u9650\u5929\u6570";var c=c-86400*a,b=Math.floor(c/3600),c=c-3600*b,e=Math.floor(c/60),c=parseInt(c-60*e);return a+"\u5929"+b+"\u65f6"+e+"\u5206"+c+"\u79d2"},getImageSize:function(a,b){var c=new Image;c.src=a;if($.isFunction(b))c.complete?b({w:c.width,h:c.height,src:a}):c.onload=function(){b({w:c.width,h:c.height,src:a})};else return{w:c.width,h:c.height,src:a}},GU:function(a,b){if($.isPlainObject(a)){if(!a.m)return;var c=a.g||"index.php";a.g=null;a.r=a.r||"";a.o=a.o||
"";var e=[];if(-1!=$.inArray(c,"index.php index wap.php weixin wap weixin.php".split(" "))){e[0]=a.m;e[1]=a.r;a.o?e.push(a.o):"";a.m=null;a.r=null;a.o=null;for(var d in a)null==a[d]||$.isEmpty(a[d])||(e.push(d),e.push(encodeURIComponent(a[d])));e=e.join("/");c=c.split(".")[0];e="/"+c+"/"+e}else{for(d in a)null==a[d]||$.isEmpty(a[d])||e.push(d+"="+encodeURIComponent(a[d]));e=e.join("&");e="/"+c+"?"+e}}else e=a;if(b)document.write(e);else return e},getTime:function(){return(new Date).getTime()}});d.Ui=
{scrollPage:function(a,b){"undefined"==typeof a?a=0:"number"!=typeof a&&"string"==typeof a&&(a=/^\d+$/.test(a)?parseInt(a):$(a).offset().top);b=b||100;try{$(document.documentElement).animate({scrollTop:a},b),$(body).animate({scrollTop:a},b)}catch(c){}}};d.attach={};d.dcom={registComs:{},callc:function(a,b,c){c=c||"";var e=d.dcom.getCom(a);if(null!=e)if(d.isFunction(b))b.call(d.dcom);else try{e.callouti(b,c)}catch(f){alert("\u7ec4\u4ef6\u63a5\u53e3\u672a\u5b9e\u73b0"+f,"error")}else{var e=d.CONFIG.dcomRootUrl+
"dcom-"+a+".js",g=d.CONFIG.dcomRootUrl+"css/dcom-"+a+".css";if(d.CONFIG.isDebug)var h="?"+Math.random(),e=e+h,g=g+h;d.include([g,e],function(e){var f=d.dcom.getCom(a);if(null!=f)if(f.bindDoms=e,d.isFunction(b))b.call(d.dcom);else try{f.callouti(b,c)}catch(g){alert("\u7ec4\u4ef6\u63a5\u53e3\u672a\u5b9e\u73b0"+g,"error")}})}},addCom:function(a,b){d.dcom.registComs["dcom-"+a]=b;b.dcomobjstr="Ds.dcom.registComs.dom-"+a},getCom:function(a){return d.dcom.registComs["dcom-"+a]||null},removeCom:function(a){a=
d.dcom.registComs["dcom-"+a];a.bindDoms&&a.bindDoms.map(function(a){$(a).remove()});d.isFunction(a.distroy)&&a.distroy();a=null}};d.dlg=function(a){return d.dcom.callc("sys-dlg","open",a)};d.alert=function(a,b,c,e){return d.dcom.callc("sys-alert","open",{tip:a,type:b||"",time:c||2E3,func:e||null})};d.request=function(a,b,c,e,f,g,h){d.dcom.callc("sys-request","open",{u:a,d:b||{},dt:c||"",t:e||"get",s:f||null,a:g,st:h||1})};d.extend(n,{Ds:d})})(window);